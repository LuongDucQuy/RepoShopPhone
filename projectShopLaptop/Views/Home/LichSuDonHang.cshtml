@model List<projectShopLaptop.DAL.Tbl_Bill>
@{
    ViewBag.Title = "Lịch sử mua hàng";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="~/css/OrderHistory.css" rel="stylesheet" />
<h1>Lịch sử đơn hàng</h1>
<div class="all">
    @if (Model != null && Model.Any())
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Họ tên</th>
                    <th>Địa chỉ</th>
                    <th>Số điện thoại</th>
                    <th>Số tiền</th>
                    <th>Trạng thái</th>
                    <th>Ngày đặt</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var order in Model)
                {
                    <tr>
                        <td>@order.HoTen</td>
                        <td>@order.diaChi</td>
                        <td>@order.dienThoai</td>
                        <td>@string.Format(new System.Globalization.CultureInfo("vi-VN"), "{0:C0}", @order.soTien)</td>
                        <td class="@(order.maTrangThai == 1 ? "status-processing" :
                                order.maTrangThai == 2 ? "status-approved" :
                                order.maTrangThai == 3 ? "status-delivery" :
                                order.maTrangThai == 4 ? "status-delivered" :
                                order.maTrangThai == 5 ? "status-cancelled" : "")">
                            @switch (order.maTrangThai)
                            {
                                case 1:
                                    @:Đang xử lý
                                    break;
                                case 2:
                                    @:Đã duyệt
                                    break;
                                case 3:
                                    @:Đang giao
                                    break;
                                case 4:
                                    @:Đã giao
                                    break;
                                case 5:
                                    @:Đã hủy
                                    break;
                                default:
                                    @:Chưa xác định
                                    break;
                            }
                        </td>

                        <td>@order.ngayDat</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>Không có đơn hàng nào trong lịch sử.</p>
    }
</div>
